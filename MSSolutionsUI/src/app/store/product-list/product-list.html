<div class="home-container">
  
  <!-- Hero -->
  <section class="hero">
     <div class="container">
    <div class="hero-text">
      <h1>Best Deals on AMC Plans </h1>
      <p>MsSolution Maintain offers extensive plans to help you install or maintain your product to keep it running as good as new..</p>
    </div>
    </div>
  </section>
<div class="container py-4">

  <!-- FILTERS -->
  <section class="mb-4">
    <h4>Filters</h4>

    <div class="d-flex gap-3">

      <!-- CATEGORY DROPDOWN -->
      <div class="dropdown-wrapper">
        <button type="button" class="dropdown-btn" (click)="toggleCategory($event)">
          Categories ▼
        </button>

        <div class="dropdown-panel" *ngIf="categoryOpen">
          <label
            class="dropdown-item"
            *ngFor="let c of categories"
          >
            <input
              type="checkbox"
              [checked]="selectedCategoryIds.has(c.id)"
              (change)="onCategorySelect(c, $event)"
            />
            {{ c.catName }}
          </label>
        </div>
      </div>

      <!-- BRAND DROPDOWN -->
      <div class="dropdown-wrapper">
        <button type="button" class="dropdown-btn" (click)="toggleBrand($event)">
          Brand ▼
        </button>

        <div class="dropdown-panel" *ngIf="brandOpen">
          <label
            class="dropdown-item"
            *ngFor="let b of brands"
          >
            <input
              type="checkbox"
              (click)="$event.stopPropagation()"
              [checked]="selectedBrands.has(b.id)"
              (change)="onBrandSelect(b.id, $event)"
            />
            {{ b.brandName }}
          </label>
        </div>
      </div>

  <button
    type="button"
    class="dropdown-btn"
    (click)="clearFilters()"
    [disabled]="!hasActiveFilters()"
  >
    Clear Filters
  </button>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section>
    <h4 class="mb-3">Products</h4>

    <div class="row">
      <div
        class="col-md-3 col-sm-6 mb-4"
        *ngFor="let p of filteredProducts"
      >
        <app-product-card [product]="p"></app-product-card>
      </div>
    </div>

    <div *ngIf="filteredProducts.length === 0" class="text-muted">
      No products found.
    </div>
  </section>

</div>

</div>
